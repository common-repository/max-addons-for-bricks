function mabImageAccordion(){bricksQuerySelectorAll(document,".brxe-max-image-accordion").forEach(function(t){new MabImageAccordion(t)})}(MabImageAccordion=function(t){this.element=t,this.items=this.element.querySelectorAll(".mab-image-accordion-item"),this.action=this.element.dataset.action,this.window=window,"undefined"!=typeof this.element.dataset.settings&&(this.settings=JSON.parse(this.element.dataset.settings)),this.action=this.settings.action,this.onmouseout=this.settings.onmouseout,this.defaultActive=this.settings["default"],this.stackOn=this.settings.stackOn,this.init()}).prototype={id:"",element:"",action:"on-hover",onmouseout:"close-all",defaultActive:"",window:"",init:function(){"on-hover"===this.action&&this.items.forEach(function(t){t.addEventListener("mouseover",this.onEnter.bind(this,t)),"last-active"!==this.onmouseout&&t.addEventListener("mouseout",this.onOut.bind(this,t))}.bind(this)),"on-click"===this.action&&(this.items.forEach(function(t){t.addEventListener("click",this.onEnter.bind(this,t),!0)}.bind(this)),document.body.addEventListener("click",this.resetAll.bind(this))),undefined!==this.stackOn&&(this.stackIt(),this.window.addEventListener("resize",function(){this.stackIt()}.bind(this)))},onEnter:function(t,i){"on-click"===this.action&&i.stopPropagation(),this.resetAll(),this.activeItem(t)},onOut:function(t,i){t.style.flex="1",t.classList.remove("mab-image-accordion-active"),"first-item"===this.onmouseout?t=this.items[0]:"default-active"===this.onmouseout&&(t="undefined"!=typeof this.defaultActive?this.items[this.defaultActive]:this.items[0]),"first-item"!==this.onmouseout&&"default-active"!==this.onmouseout||this.activeItem(t)},activeItem:function(t){t.classList.add("mab-image-accordion-active"),t.style.flex="3"},stackIt:function(){window.innerWidth<=this.stackOn?(this.element.classList.remove("mab-image-accordion-vertical"),this.element.classList.add("mab-image-accordion-horizontal")):(this.element.classList.remove("mab-image-accordion-horizontal"),this.element.classList.add("mab-image-accordion-vertical"))},resetAll:function(){this.items.forEach(function(t){t.style.flex="1",t.classList.remove("mab-image-accordion-active")})}},document.addEventListener("DOMContentLoaded",function(t){bricksIsFrontend&&mabImageAccordion()});